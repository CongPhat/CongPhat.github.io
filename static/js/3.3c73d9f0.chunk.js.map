{"version":3,"sources":["../Webcam/webpack/universalModuleDefinition","../Webcam/webpack/bootstrap","../Webcam/src/react-webcam.tsx","../webpack:/Webcam/external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","components/ProgressCircle/styles.js","components/ProgressCircle/index.jsx","features/Information/components/BoxVideoFace/styles.js","components/VideoAuthencation/index.jsx","features/Information/components/BoxVideoFace/index.jsx","features/Information/components/DialogConfirm/styles.js","features/Information/components/DialogConfirm/index.jsx","features/Information/pages/VideoFace/styles.js","features/Information/pages/VideoFace/index.jsx"],"names":["factory","hasGetUserMedia","navigator","mediaDevices","getUserMedia","window","undefined","constraints","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","Promise","resolve","reject","call","Error","props","canvas","ctx","unmounted","state","hasUserMedia","componentDidMount","this","requestUserMedia","onUserMediaError","componentDidUpdate","nextProps","audioConstraintsChanged","JSON","stringify","audioConstraints","videoConstraintsChanged","videoConstraints","minScreenshotWidthChanged","minScreenshotWidth","minScreenshotHeightChanged","minScreenshotHeight","stopAndCleanup","componentWillUnmount","stopMediaStream","stream","getVideoTracks","getAudioTracks","map","track","stop","Webcam","src","URL","revokeObjectURL","getScreenshot","screenshotDimensions","getCanvas","toDataURL","screenshotFormat","screenshotQuality","video","videoHeight","canvasWidth","videoWidth","canvasHeight","forceScreenshotSourceSize","aspectRatio","clientWidth","document","createElement","width","height","getContext","mirrored","translate","scale","imageSmoothingEnabled","imageSmoothing","drawImage","sourceSelected","audio","then","handleUserMedia","catch","e","id","optional","sourceId","constraint","deviceId","Array","isArray","length","ideal","MediaStreamTrack","getSources","sources","audioSource","videoSource","forEach","source","kind","audioSourceId","videoSourceId","err","setState","srcObject","error","createObjectURL","onUserMedia","render","style","rest","videoStyle","transform","autoPlay","muted","playsInline","ref","defaultProps","module","useStylesProgressCircle","makeStyles","theme","background","stroke","fill","progress","strokeLinecap","strokeLinejoin","text","fontSize","fontWeight","ProgressCircle","timeCurrent","timeOut","timeOneSecond","useMemo","classes","useState","strokeDashoffset","setStrokeDashoffset","time","setTime","isShow","setIsShow","useEffect","interval","setInterval","pre","Math","abs","clearInterval","viewBox","position","className","cx","cy","r","stroke-width","strokeDasharray","dy","text-anchor","useStylesBoxVideoFace","root","border","palette","white","ColorCBDBE8","boxShadow","borderRadius","display","justifyContent","alignItems","borderError","borderColor","errorText","color","marginTop","textAlign","boxIconFaceVideo","marginBottom","boxIconVideo","bottom","boxProgressCircle","right","top","boxVideoAuthencation","VideoAuthencation","receiveFile","webcamRef","React","useRef","mediaRecorderRef","image","dataAuthencation","setDataAuthencation","setRecordedChunks","handleDataAvailable","useCallback","data","size","imageSrc","current","concat","setTimeout","MediaRecorder","mimeType","addEventListener","start","alert","blob","Blob","type","blobToFile","File","file","BoxVideoFace","useBoxVideoFace","checkFileAuthencation","openVideoAuthencation","refBoxVideo","isVideoAuthencation","setIsVideoAuthencation","fileImage","fileVideo","isError","fileAuthencation","setFileAuthencation","test","setTest","handleFileAuthencation","console","log","Box","Imgs","iconFaceVideo","onClick","iconVideo","Typography","variant","useStylesDialogConfirm","title","padding","lineHeight","content","textContent","action","DialogConfirm","resetVideo","refDialogConfirm","open","setOpen","handleClose","setModalOpen","Dialog","onClose","aria-labelledby","aria-describedby","DialogTitle","iconClose","DialogContent","DialogContentText","DialogActions","Button","useStylesVideoFace","titleHeader","boxButton","buttonConfirmStyle","VideoFace","refBoxVideoFace","TitleHeader","DescriptionHeader","fullWidth"],"mappings":"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","file":"static/js/3.3c73d9f0.chunk.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Webcam\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"Webcam\"] = factory(root[\"React\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_react__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/react-webcam.tsx\");\n","import * as React from \"react\";\n\n// polyfill based on https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia\n(function polyfillGetUserMedia() {\n  if (typeof window === 'undefined') {\n    return;\n  }\n\n  // Older browsers might not implement mediaDevices at all, so we set an empty object first\n  if (navigator.mediaDevices === undefined) {\n    (navigator as any).mediaDevices = {};\n  }\n\n  // Some browsers partially implement mediaDevices. We can't just assign an object\n  // with getUserMedia as it would overwrite existing properties.\n  // Here, we will just add the getUserMedia property if it's missing.\n  if (navigator.mediaDevices.getUserMedia === undefined) {\n    navigator.mediaDevices.getUserMedia = function(constraints) {\n      // First get ahold of the legacy getUserMedia, if present\n      const getUserMedia =\n        navigator.getUserMedia ||\n        navigator.webkitGetUserMedia ||\n        navigator.mozGetUserMedia ||\n        navigator.msGetUserMedia;\n\n      // Some browsers just don't implement it - return a rejected promise with an error\n      // to keep a consistent interface\n      if (!getUserMedia) {\n        return Promise.reject(\n          new Error(\"getUserMedia is not implemented in this browser\")\n        );\n      }\n\n      // Otherwise, wrap the call to the old navigator.getUserMedia with a Promise\n      return new Promise(function(resolve, reject) {\n        getUserMedia.call(navigator, constraints, resolve, reject);\n      });\n    };\n  }\n})();\n\nfunction hasGetUserMedia() {\n  return !!(navigator.mediaDevices && navigator.mediaDevices.getUserMedia);\n}\n\ninterface ScreenshotDimensions {\n  width: number;\n  height: number;\n}\n\nexport type WebcamProps = Omit<React.HTMLProps<HTMLVideoElement>, \"ref\"> & {\n  audio: boolean;\n  audioConstraints?: MediaStreamConstraints[\"audio\"];\n  forceScreenshotSourceSize: boolean;\n  imageSmoothing: boolean;\n  mirrored: boolean;\n  minScreenshotHeight?: number;\n  minScreenshotWidth?: number;\n  onUserMedia: (stream: MediaStream) => void;\n  onUserMediaError: (error: string | DOMException) => void;\n  screenshotFormat: \"image/webp\" | \"image/png\" | \"image/jpeg\";\n  screenshotQuality: number;\n  videoConstraints?: MediaStreamConstraints[\"video\"];\n}\n\ninterface WebcamState {\n  hasUserMedia: boolean;\n  src?: string;\n}\n\nexport default class Webcam extends React.Component<WebcamProps, WebcamState> {\n  static defaultProps = {\n    audio: true,\n    forceScreenshotSourceSize: false,\n    imageSmoothing: true,\n    mirrored: false,\n    onUserMedia: () => undefined,\n    onUserMediaError: () => undefined,\n    screenshotFormat: \"image/webp\",\n    screenshotQuality: 0.92,\n  };\n\n  private canvas: HTMLCanvasElement | null = null;\n\n  private ctx: CanvasRenderingContext2D | null = null;\n\n  private unmounted = false;\n\n  stream: MediaStream | null;\n\n  video: HTMLVideoElement | null;\n\n  constructor(props: WebcamProps) {\n    super(props);\n    this.state = {\n      hasUserMedia: false\n    };\n  }\n\n  componentDidMount() {\n    const { state, props } = this;\n\n    if (!hasGetUserMedia()) {\n      props.onUserMediaError(\"getUserMedia not supported\");\n\n      return;\n    }\n\n    if (!state.hasUserMedia) {\n      this.requestUserMedia();\n    }\n  }\n\n  componentDidUpdate(nextProps: WebcamProps) {\n    const { props } = this;\n\n    if (!hasGetUserMedia()) {\n      props.onUserMediaError(\"getUserMedia not supported\");\n\n      return;\n    }\n\n    const audioConstraintsChanged =\n      JSON.stringify(nextProps.audioConstraints) !==\n      JSON.stringify(props.audioConstraints);\n    const videoConstraintsChanged =\n      JSON.stringify(nextProps.videoConstraints) !==\n      JSON.stringify(props.videoConstraints);\n    const minScreenshotWidthChanged =\n      nextProps.minScreenshotWidth !== props.minScreenshotWidth;\n    const minScreenshotHeightChanged =\n      nextProps.minScreenshotHeight !== props.minScreenshotHeight;\n    if (\n      videoConstraintsChanged ||\n      minScreenshotWidthChanged ||\n      minScreenshotHeightChanged\n    ) {\n      this.canvas = null;\n      this.ctx = null;\n    }\n    if (audioConstraintsChanged || videoConstraintsChanged) {\n      this.stopAndCleanup();\n      this.requestUserMedia();\n    }\n  }\n\n  componentWillUnmount() {\n    this.unmounted = true;\n    this.stopAndCleanup();\n  }\n\n  private static stopMediaStream(stream: MediaStream | null) {\n    if (stream) {\n      if (stream.getVideoTracks && stream.getAudioTracks) {\n        stream.getVideoTracks().map(track => track.stop());\n        stream.getAudioTracks().map(track => track.stop());\n      } else {\n        ((stream as unknown) as MediaStreamTrack).stop();\n      }\n    }\n  }\n\n  private stopAndCleanup() {\n    const { state } = this;\n\n    if (state.hasUserMedia) {\n      Webcam.stopMediaStream(this.stream);\n\n      if (state.src) {\n        window.URL.revokeObjectURL(state.src);\n      }\n    }\n  }\n\n  getScreenshot(screenshotDimensions?: ScreenshotDimensions) {\n    const { state, props } = this;\n\n    if (!state.hasUserMedia) return null;\n\n    const canvas = this.getCanvas(screenshotDimensions);\n    return (\n      canvas &&\n      canvas.toDataURL(props.screenshotFormat, props.screenshotQuality)\n    );\n  }\n\n  getCanvas(screenshotDimensions?: ScreenshotDimensions) {\n    const { state, props } = this;\n\n    if (!this.video) {\n      return null;\n    }\n\n    if (!state.hasUserMedia || !this.video.videoHeight) return null;\n\n    if (!this.ctx) {\n      let canvasWidth = this.video.videoWidth;\n      let canvasHeight = this.video.videoHeight;\n      if (!this.props.forceScreenshotSourceSize) {\n        const aspectRatio = canvasWidth / canvasHeight;\n\n        canvasWidth = props.minScreenshotWidth || this.video.clientWidth;\n        canvasHeight = canvasWidth / aspectRatio;\n\n        if (\n          props.minScreenshotHeight &&\n          canvasHeight < props.minScreenshotHeight\n        ) {\n          canvasHeight = props.minScreenshotHeight;\n          canvasWidth = canvasHeight * aspectRatio;\n        }\n      }\n\n      this.canvas = document.createElement(\"canvas\");\n      this.canvas.width = screenshotDimensions?.width ||  canvasWidth;\n      this.canvas.height = screenshotDimensions?.height || canvasHeight;\n      this.ctx = this.canvas.getContext(\"2d\");\n    }\n\n    const { ctx, canvas } = this;\n\n    if (ctx && canvas) {\n      // mirror the screenshot\n      if (props.mirrored) {\n        ctx.translate(canvas.width, 0);\n        ctx.scale(-1, 1);\n      }\n\n      ctx.imageSmoothingEnabled = props.imageSmoothing;\n      ctx.drawImage(this.video, 0, 0, screenshotDimensions?.width || canvas.width, screenshotDimensions?.height || canvas.height);\n\n      // invert mirroring\n      if (props.mirrored) {\n        ctx.scale(-1, 1);\n        ctx.translate(-canvas.width, 0);\n      }\n    }\n\n    return canvas;\n  }\n\n  private requestUserMedia() {\n    const { props } = this;\n\n    const sourceSelected = (\n      audioConstraints: boolean | MediaTrackConstraints | undefined,\n      videoConstraints: boolean | MediaTrackConstraints | undefined,\n    ) => {\n      const constraints: MediaStreamConstraints = {\n        video: typeof videoConstraints !== \"undefined\" ? videoConstraints : true\n      };\n\n      if (props.audio) {\n        constraints.audio =\n          typeof audioConstraints !== \"undefined\" ? audioConstraints : true;\n      }\n\n      navigator.mediaDevices\n        .getUserMedia(constraints)\n        .then(stream => {\n          if (this.unmounted) {\n            Webcam.stopMediaStream(stream);\n          } else {\n            this.handleUserMedia(null, stream);\n          }\n        })\n        .catch(e => {\n          this.handleUserMedia(e);\n        });\n    };\n\n    if (\"mediaDevices\" in navigator) {\n      sourceSelected(props.audioConstraints, props.videoConstraints);\n    } else {\n      const optionalSource = (id: string | null) => ({ optional: [{ sourceId: id }] }) as MediaTrackConstraints;\n\n      const constraintToSourceId = (constraint) => {\n        const { deviceId } = constraint;\n\n        if (typeof deviceId === \"string\") {\n          return deviceId;\n        }\n\n        if (Array.isArray(deviceId) && deviceId.length > 0) {\n          return deviceId[0];\n        }\n\n        if (typeof deviceId === \"object\" && deviceId.ideal) {\n          return deviceId.ideal;\n        }\n\n        return null;\n      };\n\n      // @ts-ignore: deprecated api\n      MediaStreamTrack.getSources(sources => {\n        let audioSource: string | null = null;\n        let videoSource: string | null = null;\n\n        sources.forEach((source: MediaStreamTrack) => {\n          if (source.kind === \"audio\") {\n            audioSource = source.id;\n          } else if (source.kind === \"video\") {\n            videoSource = source.id;\n          }\n        });\n\n        const audioSourceId = constraintToSourceId(props.audioConstraints);\n        if (audioSourceId) {\n          audioSource = audioSourceId;\n        }\n\n        const videoSourceId = constraintToSourceId(props.videoConstraints);\n        if (videoSourceId) {\n          videoSource = videoSourceId;\n        }\n\n        sourceSelected(\n          optionalSource(audioSource),\n          optionalSource(videoSource)\n        );\n      });\n    }\n  }\n\n  private handleUserMedia(err, stream?: MediaStream) {\n    const { props } = this;\n\n    if (err || !stream) {\n      this.setState({ hasUserMedia: false });\n      props.onUserMediaError(err);\n\n      return;\n    }\n\n    this.stream = stream;\n\n    try {\n      if (this.video) {\n        this.video.srcObject = stream;\n      }\n      this.setState({ hasUserMedia: true });\n    } catch (error) {\n      this.setState({\n        hasUserMedia: true,\n        src: window.URL.createObjectURL(stream)\n      });\n    }\n\n    props.onUserMedia(stream);\n  }\n\n  render() {\n    const { state, props } = this;\n\n    const {\n      audio,\n      forceScreenshotSourceSize,\n      onUserMedia,\n      onUserMediaError,\n      screenshotFormat,\n      screenshotQuality,\n      minScreenshotWidth,\n      minScreenshotHeight,\n      audioConstraints,\n      videoConstraints,\n      imageSmoothing,\n      mirrored,\n      style = {},\n      ...rest\n    } = props;\n\n    const videoStyle = mirrored ? { ...style, transform: `${style.transform || \"\"} scaleX(-1)` } : style;\n\n    return (\n      <video\n        autoPlay\n        src={state.src}\n        muted={audio}\n        playsInline\n        ref={ref => {\n          this.video = ref;\n        }}\n        style={videoStyle}\n        {...rest}\n      />\n    );\n  }\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE_react__;","import StepConnector from '@material-ui/core/StepConnector';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\n\nexport const useStylesProgressCircle = makeStyles((theme) => ({\n  background: {\n    stroke: '#ddf3e6',\n    fill: 'none',\n  },\n  progress: {\n    fill: 'none',\n    stroke: '#67e799',\n    strokeLinecap: 'round',\n    strokeLinejoin: 'round',\n  },\n  text: {\n    fontSize: '3em',\n    fontWeight: 'bold',\n    fill: 'black',\n    '-webkit-transform': 'translate(96px,96px) rotateY(162deg)',\n    '-moz-transform': 'translate(96px,96px) rotateY(162deg)',\n    '-ms-transform':\n      'translate(96px,96px) rotateY(162deg)' /* Only for graceful degradation in IE9, cannot be transitioned */,\n    '-o-transform': 'translate(96px,96px) rotateY(162deg)',\n    transform: 'translate(96px,96px) rotateY(162deg)',\n  },\n}));\n","import React, { useState, useEffect, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport Box from '@material-ui/core/Box';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Typography from '@material-ui/core/Typography';\nimport { useStylesProgressCircle } from './styles';\n\nCircularProgressWithLabel.propTypes = {\n  value: PropTypes.number.isRequired,\n};\n\nfunction CircularProgressWithLabel(props) {\n  return (\n    <Box position=\"relative\" display=\"inline-flex\">\n      <CircularProgress variant=\"static\" {...props} />\n      <Box\n        top={0}\n        left={0}\n        bottom={0}\n        right={0}\n        position=\"absolute\"\n        display=\"flex\"\n        alignItems=\"center\"\n        justifyContent=\"center\"\n      >\n        <Typography variant=\"caption\" component=\"div\" color=\"textSecondary\">{`${Math.round(props.value)}s`}</Typography>\n      </Box>\n    </Box>\n  );\n}\nconst defaultTime = 600;\n\nProgressCircle.propTypes = {\n  timeCurrent: PropTypes.number.isRequired,\n  timeOut: PropTypes.func,\n};\nProgressCircle.defaultProps = {\n  timeCurrent: 30,\n  timeOut: () => {},\n};\n\nfunction ProgressCircle(props) {\n  const { timeCurrent, timeOut } = props;\n  const timeOneSecond = useMemo(() => defaultTime / timeCurrent, [timeCurrent]);\n  const classes = useStylesProgressCircle();\n  const [strokeDashoffset, setStrokeDashoffset] = useState(0);\n  const [time, setTime] = useState(timeCurrent);\n  const [isShow, setIsShow] = useState(false);\n  useEffect(() => {\n    setIsShow(true);\n    const interval = setInterval(() => {\n      setStrokeDashoffset((pre) => {\n        if (Math.abs(pre) >= defaultTime - timeOneSecond) {\n          setIsShow(false);\n          clearInterval(interval);\n          timeOut();\n        }\n        return pre + timeOneSecond;\n      });\n      setTime((pre) => {\n        return pre - 1;\n      });\n    }, 1000);\n    return () => {\n      clearInterval(interval);\n    };\n  }, [timeCurrent]);\n\n  return (\n    <>\n      {isShow && (\n        <svg\n          width=\"48\"\n          height=\"48\"\n          viewBox=\"0 0 200 200\"\n          style={{ transform: 'rotateY(180deg)', position: 'relative' }}\n        >\n          <circle className={classes.background} cx=\"100\" cy=\"100\" r=\"95\" stroke-width=\"13px\"></circle>\n          <circle\n            className={classes.progress}\n            cx=\"100\"\n            cy=\"100\"\n            r=\"95\"\n            stroke-width=\"13px\"\n            transform=\"rotate(-90 100 100)\"\n            style={{ strokeDasharray: defaultTime, strokeDashoffset: strokeDashoffset }}\n          ></circle>\n          <text\n            className={classes.text}\n            // x=\"50%\"\n            // y=\"50%\"\n            dy=\".3em\"\n            text-anchor=\"middle\"\n            // style={{ transform: 'rotateY(0deg)' }}\n          >\n            {time}s\n          </text>\n        </svg>\n      )}\n    </>\n  );\n}\nexport { ProgressCircle };\n","import { makeStyles } from '@material-ui/core';\n\nconst useStylesBoxVideoFace = makeStyles((theme) => ({\n  root: {\n    height: 360,\n    background: 'white',\n    border: `1px solid ${theme.palette.white.ColorCBDBE8}`,\n    boxShadow: '0px 10px 20px rgba(0, 0, 0, 0.03)',\n    borderRadius: 10,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    position: 'relative',\n  },\n  borderError: {\n    borderColor: 'red',\n  },\n  errorText: {\n    fontSize: 12,\n    fontWeight: 400,\n    color: '#EB5757',\n    marginTop: 11,\n    textAlign: 'center',\n  },\n  boxIconFaceVideo: {\n    marginBottom: 50,\n  },\n  boxIconVideo: {\n    position: 'absolute',\n    bottom: 21,\n  },\n  boxProgressCircle: {\n    position: 'absolute',\n    right: 23,\n    top: 23,\n  },\n  boxVideoAuthencation: {},\n}));\n\nexport { useStylesBoxVideoFace };\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Webcam from 'react-webcam';\n\nVideoAuthencation.propTypes = {\n  receiveFile: PropTypes.func,\n};\nVideoAuthencation.defaultProps = {\n  receiveFile: (file) => {},\n};\n\nfunction VideoAuthencation({ receiveFile }) {\n  const webcamRef = React.useRef(null);\n  const mediaRecorderRef = React.useRef(null);\n  const [dataAuthencation, setDataAuthencation] = React.useState({\n    video: [],\n    image: null,\n  });\n  const [recordedChunks, setRecordedChunks] = React.useState([]);\n\n  const handleDataAvailable = React.useCallback(\n    ({ data }) => {\n      if (data.size > 0) {\n        const imageSrc = webcamRef.current.getScreenshot();\n        setDataAuthencation((pre) => ({ ...pre, video: pre.video.concat(data), image: imageSrc }));\n        // setRecordedChunks((prev) => prev.concat(data));\n      }\n    },\n    [setRecordedChunks]\n  );\n\n  useEffect(() => {\n    setTimeout(() => {\n      if (webcamRef.current.stream) {\n        mediaRecorderRef.current = new MediaRecorder(webcamRef.current.stream, {\n          mimeType: 'video/webm',\n        });\n        mediaRecorderRef.current.addEventListener('dataavailable', handleDataAvailable);\n        mediaRecorderRef.current.start();\n        setTimeout(() => {\n          mediaRecorderRef.current.stop();\n        }, 5000);\n      } else {\n        alert('Không thể nhận diện camera. Vui lòng thử lại!');\n      }\n    }, 2000);\n  }, []);\n  useEffect(() => {\n    if (dataAuthencation.video.length) {\n      const blob = new Blob(dataAuthencation.video, {\n        type: 'video/webm',\n      });\n      const blobToFile = new File([blob], 'test.mp4');\n      receiveFile({\n        video: blobToFile,\n        image: dataAuthencation.image,\n      });\n      // const url = URL.createObjectURL(blob);\n      // console.log(url, 'urlurl');\n      // const a = document.createElement('a');\n      // document.body.appendChild(a);\n      // a.style = 'display: none';\n      // a.href = url;\n      // a.download = 'react-webcam-stream-capture.mp4';\n      // a.click();\n      // window.URL.revokeObjectURL(url);\n      // setRecordedChunks([]);\n    }\n  }, [dataAuthencation]);\n\n  return (\n    <div>\n      <Webcam audio={false} ref={webcamRef} style={{ width: '91vw', height: '250px' }} />\n    </div>\n  );\n}\nexport { VideoAuthencation };\n","import React, { useState, useMemo, useEffect, useRef, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { Box, Typography } from '@material-ui/core';\nimport { ProgressCircle } from 'components/ProgressCircle';\nimport { useStylesBoxVideoFace } from './styles';\nimport Imgs from 'constants/images';\nimport { VideoAuthencation } from 'components/VideoAuthencation';\n\nBoxVideoFace.propTypes = {\n  refBoxVideo: PropTypes.object,\n};\nBoxVideoFace.defaultProps = {};\n\nconst useBoxVideoFace = () => {\n  const ref = useRef({\n    checkFileAuthencation: () => {},\n    openVideoAuthencation: () => {},\n  });\n  return ref;\n};\n\nfunction BoxVideoFace({ refBoxVideo }) {\n  const classes = useStylesBoxVideoFace();\n  const [isVideoAuthencation, setIsVideoAuthencation] = useState(false);\n  const [fileAuthencation, setFileAuthencation] = useState({\n    fileImage: null,\n    fileVideo: null,\n    isError: false,\n  });\n  const [test, setTest] = useState(null);\n  const checkFileAuthencation = () => {\n    if (!fileAuthencation.fileImage && !fileAuthencation.fileVideo) {\n      setFileAuthencation((pre) => ({ ...pre, isError: true }));\n    }\n  };\n  const openVideoAuthencation = () => {\n    setIsVideoAuthencation(true);\n  };\n  useEffect(() => {\n    openVideoAuthencation();\n  }, []);\n  const handleFileAuthencation = useCallback((file) => {\n    console.log(file, 'filefile');\n    setTest(file.image);\n  }, []);\n  useEffect(() => {}, []);\n  if (refBoxVideo && refBoxVideo.current) {\n    refBoxVideo.current.checkFileAuthencation = checkFileAuthencation;\n    refBoxVideo.current.openVideoAuthencation = openVideoAuthencation;\n  }\n  return (\n    <Box>\n      {test && <img src={test} />}\n      <Box className={`${classes.root} ${fileAuthencation.isError && classes.borderError}`}>\n        {isVideoAuthencation && (\n          <Box className={classes.boxProgressCircle}>\n            <ProgressCircle timeCurrent={6} />\n          </Box>\n        )}\n        {isVideoAuthencation ? (\n          <Box className={classes.boxVideoAuthencation}>\n            <VideoAuthencation receiveFile={handleFileAuthencation} />\n          </Box>\n        ) : (\n          <Box className={classes.boxIconFaceVideo}>\n            <img src={Imgs.iconFaceVideo} />\n          </Box>\n        )}\n        <Box className={classes.boxIconVideo} onClick={() => setIsVideoAuthencation(true)}>\n          <img src={Imgs.iconVideo} />\n        </Box>\n      </Box>\n      {fileAuthencation.isError && (\n        <Typography variant=\"subtitle1\" className={classes.errorText}>\n          Vui lòng quay video khuôn mặt.\n        </Typography>\n      )}\n    </Box>\n  );\n}\n\nexport { BoxVideoFace, useBoxVideoFace };\n","import { makeStyles } from '@material-ui/core';\n\nconst ellipsisText = {\n  whiteSpace: 'nowrap',\n  overflow: 'hidden',\n  textOverflow: 'ellipsis',\n};\n\nconst useStylesDialogConfirm = makeStyles((theme) => ({\n  root: {\n    borderRadius: 10,\n  },\n  title: {\n    padding: '0px 13px',\n    textAlign: 'end',\n    marginTop: 10,\n    '& .MuiTypography-h6': {\n      lineHeight: 0,\n    },\n  },\n  content: {\n    textAlign: 'center',\n    padding: '0px 24px',\n  },\n  textContent: {\n    fontWeight: '400 !important',\n  },\n  action: {\n    justifyContent: 'center',\n    marginBottom: 23,\n    marginTop: 14,\n    padding: 0,\n  },\n}));\n\nexport { useStylesDialogConfirm };\n","import React, { useRef } from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport PropTypes from 'prop-types';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Imgs from 'constants/images';\n\nimport { useStylesDialogConfirm } from './styles';\n\nDialogConfirm.propTypes = {\n  resetVideo: PropTypes.func,\n  refDialogConfirm: PropTypes.object,\n};\nDialogConfirm.defaultProps = {\n  resetVideo: () => {},\n  refDialogConfirm: {},\n};\n\nfunction useDialogConfirm() {\n  const ref = useRef({\n    setModalOpen: () => {},\n  });\n  return ref;\n}\n\nfunction DialogConfirm({ resetVideo, refDialogConfirm }) {\n  const classes = useStylesDialogConfirm();\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n  const handleContinueVideo = () => {\n    resetVideo();\n    setOpen(false);\n  };\n  if (refDialogConfirm && refDialogConfirm.current) {\n    refDialogConfirm.current.setModalOpen = handleClickOpen;\n  }\n  return (\n    <Dialog\n      open={open}\n      onClose={handleClose}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n      className={classes.root}\n    >\n      <DialogTitle id=\"alert-dialog-title\" className={classes.title}>\n        <img src={Imgs.iconClose} onClick={handleClose} />\n      </DialogTitle>\n      <DialogContent className={classes.content}>\n        <DialogContentText id=\"alert-dialog-description\" className={classes.textContent}>\n          Không thể nhận diện khuôn mặt trong Video. Vui lòng quay lại Video\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions className={classes.action}>\n        <Button onClick={handleContinueVideo} color=\"primary\" style={{ width: '52.5%' }}>\n          Quay lại video\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nexport { DialogConfirm, useDialogConfirm };\n","import { makeStyles } from '@material-ui/core';\nexport const useStylesVideoFace = makeStyles({\n  root: {\n    fontSize: 18,\n    lineHeight: '24.55px',\n    fontWeight: 800,\n    color: '#3D3D3D',\n  },\n  titleHeader: {\n    marginBottom: 4,\n  },\n  boxButton: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    marginTop: 40,\n  },\n  buttonConfirmStyle: {\n    width: '43.3%',\n  },\n});\n","import React, { useEffect } from 'react';\nimport Box from '@material-ui/core/Box';\nimport { Button } from '@material-ui/core';\nimport { TitleHeader } from '../../components/TitleHeader';\nimport { DescriptionHeader } from '../../components/DescriptionHeader';\nimport { BoxVideoFace, useBoxVideoFace } from '../../components/BoxVideoFace';\nimport { DialogConfirm, use } from 'features/Information/components/DialogConfirm';\nimport { useStylesVideoFace } from './styles';\n\nfunction VideoFace(props) {\n  const classes = useStylesVideoFace();\n  const refBoxVideoFace = useBoxVideoFace();\n  const refDialogConfirm = useBoxVideoFace();\n  const handleResetVideo = () => {\n    refBoxVideoFace.current.openVideoAuthencation();\n    console.log('reset video');\n  };\n  useEffect(() => {\n    setTimeout(() => {\n      refDialogConfirm.current.setModalOpen();\n    }, 3000);\n  }, []);\n  return (\n    <>\n      <Box style={{ textAlign: 'center', marginBottom: 24 }}>\n        <TitleHeader variant=\"h6\" className={classes.titleHeader}>\n          Video khuôn mặt\n        </TitleHeader>\n        <DescriptionHeader variant=\"subtitle1\">\n          Vui lòng không đặt camera sát vào khuôn mặt và cử động gương mặt tự nhiên trong vài giây.\n        </DescriptionHeader>\n      </Box>\n      <BoxVideoFace refBoxVideo={refBoxVideoFace} />\n      <Box className={classes.boxButton}>\n        <Button\n          // disabled={isSubmitting}\n          // type=\"submit\"\n          className={`${classes.buttonConfirmStyle}`}\n          variant=\"outlined\"\n          color=\"primary\"\n          fullWidth\n        >\n          Quay lại\n        </Button>\n        <Button\n          // disabled={isSubmitting}\n          type=\"button\"\n          className={`${classes.buttonConfirmStyle}`}\n          variant=\"contained\"\n          color=\"primary\"\n          fullWidth\n          onClick={() => refBoxVideoFace.current.checkFileAuthencation()}\n        >\n          Xác nhận\n        </Button>\n      </Box>\n      <DialogConfirm resetVideo={handleResetVideo} refDialogConfirm={refDialogConfirm} />\n    </>\n  );\n}\n\nexport default VideoFace;\n"],"sourceRoot":""}